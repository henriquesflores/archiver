\documentclass[a4paper,11pt,oneside]{book}

% Usual typesetting
\usepackage[utf8]{inputenc}
\usepackage[paperwidth=127mm,paperheight=178mm]{geometry}
\usepackage[protrusion=true,expansion=true,tracking=true]{microtype}
\usepackage[english]{babel}

% 
\usepackage{titlesec}
\usepackage{titletoc}

% Choosing Garamond as main font
\usepackage{ebgaramond-maths}
\usepackage[T1]{fontenc}

%% Defining the title page
%% the titlepage
\makeatletter
\def\maketitle{
\null\thispagestyle{empty}
\vspace*{5cm}
\hspace*{0.2\paperwidth}
\begin{minipage}{0.3\paperwidth}
  \begin{raggedleft}
    {\itshape\@author 's} \\ \@title\\ \@date\\
  \end{raggedleft}
\end{minipage}
\hspace{2pt}
\begin{minipage}{0.3\paperwidth}
%  \imagesize{\wood b}
\end{minipage}

\null\newpage\thispagestyle{empty}
\null\newpage
}
\makeatother
%%

%% Chapter heading
\titleclass{\chapter}{straight}
\titleformat{\chapter}[hang]
{\normalfont\centering\sc}
{\thechapter}
{}
{\ }
[]
\titlespacing{\chapter}{0pt}{10pt}{12pt}[0pt]
%%

%% Section heading
\titleformat{\section}[runin]
{\normalfont\itshape}
{\thesection}
{}
{}
[.\hspace{2pt}--]
\titlespacing{\section}{\parindent}{10pt}{2pt}[0cm]
%%

%%
% The following is generated by python: